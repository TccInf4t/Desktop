package br.com.onpecas.controller;

import java.net.URL;
import java.util.HashMap;
import java.util.List;
import java.util.ResourceBundle;

import br.com.onpecas.model.Relatorio;
import javafx.fxml.*;
import javafx.scene.chart.*;
import javafx.scene.control.*;

public class RelatorioController implements Initializable{

	@FXML Button btnFiltrar;
	@FXML ComboBox<String> cboTipoRelatorio, cboPeriodoRelatório;

	@FXML LineChart lineCharRelatorio;
	@FXML DatePicker datePickerInicial, datePickerFinal;

	@FXML RadioButton radioPeriodo, radioDataPeriodo;

	@Override
	public void initialize(URL location, ResourceBundle resources) {
		// TODO Auto-generated method stub

		CarregarBotoes();
		
	}

	public void CarregarBotoes(){
		cboTipoRelatorio.getItems().addAll("Faturamento");
		cboPeriodoRelatório.getItems().addAll("Anual");
		btnFiltrar.setOnAction(l-> Filtrar());
	}

	@SuppressWarnings({ "rawtypes", "unchecked" })
	public void Filtrar(){
		if(cboTipoRelatorio.getSelectionModel().getSelectedItem().equals("Faturamento") && 
				cboPeriodoRelatório.getSelectionModel().getSelectedItem().equals("Anual")){
			
			List<HashMap<Integer,String>> lstHash = Relatorio.ListarFaturamento(1);
			
			XYChart.Series lucro = new XYChart.Series();
			lucro.setName("Faturamento anual");
			for(int i = 0; i<lstHash.size(); i++ ){
				
				
				//lucro.getData().add(new XYChart.Data(lstHash.get(i).get(1), lstHash.get(i).get(2)));
				/*lucro.getData().add(new XYChart.Data("Fevereiro", 02));
				lucro.getData().add(new XYChart.Data("Março", 3));
				lucro.getData().add(new XYChart.Data("Abril", 04));
				lucro.getData().add(new XYChart.Data("Maio", 05));
				lucro.getData().add(new XYChart.Data("Junho", 06));
				lucro.getData().add(new XYChart.Data("Julho", 07));
				lucro.getData().add(new XYChart.Data("Agosto", 8));
				lucro.getData().add(new XYChart.Data("Setembro", 9));
				lucro.getData().add(new XYChart.Data("Outubro", 10));
				lucro.getData().add(new XYChart.Data("Novembro",11));
				lucro.getData().add(new XYChart.Data("Dezembro", 12));*/

				
			}
			lineCharRelatorio.getData().addAll(lucro);
		}
	}
}
